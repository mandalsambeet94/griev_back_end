spring:
  application:
    name: grievance-management-system

  profiles:
    active: ${PROFILE:local}

  jackson:
    time-zone: Asia/Kolkata
    serialization:
      write-dates-as-timestamps: false

  datasource:
    url: jdbc:postgresql://localhost:5432/grievance_db
    username: postgres
    password: 1234
    driver-class-name: org.postgresql.Driver

    jpa:
      hibernate:
        ddl-auto: update     # use validate/none in prod
      show-sql: true
      properties:
        hibernate:
          dialect: org.hibernate.dialect.PostgreSQLDialect
          format_sql: true

server:
  port: 8080
  servlet:
    context-path: /api

  # AWS Lambda timeout is 30 seconds max
  tomcat:
    connection-timeout: 29000
    keep-alive-timeout: 29000

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:your-secret-key-change-in-production}
  expiration: 86400000 # 24 hours

# AWS Configuration
aws:
  region: ${AWS_REGION:ap-south-1}
  s3:
    bucket: ${S3_BUCKET:grievance-photos}
    presigned-url-expiry: 3600 # 1 hour
  rds:
    instance-id: ${RDS_INSTANCE_ID:grievance-db}

# File Upload Configuration
file:
  upload:
    max-size: 10485760 # 10MB
    allowed-extensions: jpg,jpeg,png,pdf,doc,docx

# Security
security:
  allowed-origins: ${ALLOWED_ORIGINS:http://localhost:3000}

# Logging
logging:
  level:
    main.java.com.grievance: DEBUG
    org.springframework.security: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE